var vectorLength=15,elements=[];function addToBloomFilter(a){var b,c,d,e;elements.indexOf(a)==-1&&elements.push(a),$('#elements').html(elements.join(', ')),$('#bloom_input').val(''),b=murmurHash3.x86.hash32(a,0)%vectorLength,c=murmurHash3.x86.hash32(a,1)%vectorLength,d=murmurHash3.x86.hash32(a,2)%vectorLength,$('#hash0').html(b),$('#hash1').html(c),$('#hash2').html(d),$('#bits #'+b).css({'background-color':'#ac4142'}).addClass('set'),$('#bits #'+c).css({'background-color':'#ac4142'}).addClass('set'),$('#bits #'+d).css({'background-color':'#ac4142'}).addClass('set'),e=(Math.pow($('#bits .set').length/vectorLength,2)*100).toFixed(2),$('#false_positive_probability').html(e+'%')}function inBloomFilter(a){var b=murmurHash3.x86.hash32(a,0)%vectorLength,c=murmurHash3.x86.hash32(a,1)%vectorLength,d=murmurHash3.x86.hash32(a,2)%vectorLength;$('#hash0').html(b),$('#hash1').html(c),$('#hash2').html(d),$('#bits #'+b).hasClass('set')&&$('#bits #'+c).hasClass('set')&&$('#bits #'+d).hasClass('set')?$('#in_bloom_filter span').html('Maybe'):$('#in_bloom_filter span').html('No')}$(function(){$bits=$('#bits'),$labels=$('#labels');for(var a=0;a<vectorLength;a++)$bits.append($('<td>',{id:a}).css({'background-color':'#fff'}).html('&nbsp;')),$labels.append($('<td>',{id:a}).css({'text-align':'center'}).html(a));$('#add_value_to_bloom_filter').click(function(){var a=$('#bloom_input').val();if(a==='')return;addToBloomFilter(a)}),$('#bloom_input').keydown(function(a){a.keyCode=='13'&&(a.preventDefault(),$('#add_value_to_bloom_filter').click())}),$('#test_value_in_bloom_filter').click(function(){var a=$('#bloom_input_test').val();if(a==='')return;inBloomFilter(a)}),$('#bloom_input_test').keydown(function(a){a.keyCode=='13'&&(a.preventDefault(),$('#test_value_in_bloom_filter').click())})})